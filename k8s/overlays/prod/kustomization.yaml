apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  - ../../base/argocd
  - ../../base/apps
# Example patches for prod environment
# Uncomment and modify as needed to override targetRevision per environment

# patches:
#   # Pin specific versions in prod for stability
#   - target:
#       kind: Application
#       name: cert-manager
#     patch: |-
#       - op: replace
#         path: /spec/source/targetRevision
#         value: v1.18.2
#
#   - target:
#       kind: Application
#       name: kyverno
#     patch: |-
#       - op: replace
#         path: /spec/sources/0/targetRevision
#         value: 3.2.0
#
#   # Team apps use stable tags in prod
#   - target:
#       kind: Application
#       name: payments-api
#     patch: |-
#       - op: replace
#         path: /spec/source/targetRevision
#         value: v1.2.3
#
#   - target:
#       kind: Application
#       name: identity-service
#     patch: |-
#       - op: replace
#         path: /spec/source/targetRevision
#         value: v2.1.0
